

```html
<!DOCTYPE html>
<html>
<head>
    <title>The Cruise Game - AI Enhanced</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #333;
            font-family: Arial, sans-serif;
        }

        #gameContainer {
            position: relative;
            width: 1600px;
            height: 1200px;
            margin: 20px auto;
            background: #87CEEB;
            border: 2px solid #000;
            overflow: auto;
        }

        .character {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            color: white;
            text-align: center;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .nametag {
            position: absolute;
            bottom: -20px;
            width: 100%;
            text-align: center;
            font-size: 10px;
            color: black;
            background: rgba(255, 255, 255, 0.7);
            padding: 2px;
            border-radius: 3px;
        }

        .building {
            position: absolute;
            background: #666;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 12px;
            z-index: 1;
        }

        #dialogBox {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 5px;
            width: 400px;
            display: none;
        }

        #inputBox {
            width: 100%;
            padding: 5px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div id="dialogBox">
            <div id="dialogText"></div>
            <input type="text" id="inputBox" placeholder="Type your message...">
        </div>
    </div>

    <script>
    // API Configuration
    const API = (function() {
        const config = {
            token: '', // Add your token here
            baseUrl: 'https://api-inference.huggingface.co/models/',
            model: '' // Add your model name here
        };

        function setToken(token) {
            if (typeof token !== 'string' || token.trim() === '') {
                throw new Error('Invalid token');
            }
            config.token = token;
        }

        async function query(payload) {
            try {
                const response = await fetch(`${config.baseUrl}${config.model}`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${config.token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API request failed: ${response.statusText}`);
                }

                return await response.json();
            } catch (error) {
                console.error("API Error:", error);
                return { error: error.message };
            }
        }

        return {
            setToken,
            query
        };
    })();

    // Game State
    const gameState = {
        characters: [
            { name: "Jacob", age: 14, color: "#FFD700", x: 800, y: 600, isPlayer: true },
            { name: "Emily", age: 15, color: "#FF69B4", x: 400, y: 400 },
            { name: "Dan", age: 17, color: "#4169E1", x: 1200, y: 300 }
        ],
        buildings: [
            { name: "House", type: "house", x: 1000, y: 900, width: 150, height: 120 },
            { name: "School", type: "school", x: 200, y: 200, width: 300, height: 200 }
        ],
        player: null,
        currentInteraction: null
    };

    // Initialize Game
    function initGame() {
        createGameElements();
        API.setToken('YOUR_TOKEN_HERE'); // Replace with your token
        
        // Set up game loop
        setInterval(gameLoop, 1000/60);
    }

    function createGameElements() {
        // Create buildings
        gameState.buildings.forEach(building => {
            const buildingElement = document.createElement('div');
            buildingElement.className = `building ${building.type}`;
            buildingElement.style.left = building.x + 'px';
            buildingElement.style.top = building.y + 'px';
            buildingElement.style.width = building.width + 'px';
            buildingElement.style.height = building.height + 'px';
            buildingElement.innerHTML = building.name;
            gameContainer.appendChild(buildingElement);
        });

        // Create characters
        gameState.characters.forEach(char => {
            const charElement = document.createElement('div');
            charElement.className = 'character';
            charElement.style.backgroundColor = char.color;
            charElement.style.left = char.x + 'px';
            charElement.style.top = char.y + 'px';
            
            const nametag = document.createElement('div');
            nametag.className = 'nametag';
            nametag.textContent = `${char.name} (${char.age})`;
            charElement.appendChild(nametag);

            if (char.isPlayer) {
                charElement.classList.add('player');
                gameState.player = charElement;
            }

            gameContainer.appendChild(charElement);
        });
    }

    // Movement Controls
    const keys = {};
    document.addEventListener('keydown', e => keys[e.key.toLowerCase()] = true);
    document.addEventListener('keyup', e => keys[e.key.toLowerCase()] = false);

    function movePlayer() {
        if (!gameState.player) return;

        const speed = 5;
        const playerChar = gameState.characters.find(c => c.isPlayer);
        
        if (keys['w']) playerChar.y -= speed;
        if (keys['s']) playerChar.y += speed;
        if (keys['a']) playerChar.x -= speed;
        if (keys['d']) playerChar.x += speed;

        gameState.player.style.left = playerChar.x + 'px';
        gameState.player.style.top = playerChar.y + 'px';
    }

    // Dialog System with AI Integration
    const dialogBox = document.getElementById('dialogBox');
    const dialogText = document.getElementById('dialogText');
    const inputBox = document.getElementById('inputBox');

    async function handleDialog(message) {
        try {
            const response = await API.query({
                inputs: message
            });
            
            if (response.error) {
                return "Sorry, I couldn't process that right now.";
            }
            
            return response[0].generated_text;
        } catch (error) {
            console.error("Dialog error:", error);
            return "Sorry, there was an error processing your message.";
        }
    }

    inputBox.addEventListener('keypress', async (e) => {
        if (e.key === 'Enter' && gameState.currentInteraction) {
            const message = inputBox.value.trim();
            if (message) {
                const response = await handleDialog(message);
                dialogText.innerHTML += `<br>You: ${message}<br>${gameState.currentInteraction.name}: ${response}`;
                inputBox.value = '';
            }
        }
    });

    function showDialog(text) {
        dialogBox.style.display = 'block';
        dialogText.innerHTML = text;
        inputBox.focus();
    }

    function hideDialog() {
        dialogBox.style.display = 'none';
        dialogText.innerHTML = '';
        inputBox.value = '';
        gameState.currentInteraction = null;
    }

    // Interaction Check
    function checkInteractions() {
        const playerChar = gameState.characters.find(c => c.isPlayer);
        
        gameState.characters.forEach(char => {
            if (!char.isPlayer) {
                const distance = Math.hypot(playerChar.x - char.x, playerChar.y - char.y);
                
                if (distance < 50) {
                    gameState.currentInteraction = char;
                    showDialog(`Talking to ${char.name}. What would you like to say?`);
                }
            }
        });
    }

    // Game Loop
    function gameLoop() {
        movePlayer();
        checkInteractions();
    }

    // Start the game
    window.onload = initGame;
    </script>
</body>
</html>
